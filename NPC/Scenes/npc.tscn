[gd_scene load_steps=9 format=3 uid="uid://dj3y6vnh3v28l"]

[ext_resource type="Script" uid="uid://j0eg4xid27jn" path="res://NPC/Scripts/npc.gd" id="1_056qb"]
[ext_resource type="Texture2D" uid="uid://ed3wtbvhwcct" path="res://NPC/Assets/npc.png" id="1_asys0"]
[ext_resource type="Script" uid="uid://bxew2mys8y8u8" path="res://addons/utility_ai/agent/agent.gd" id="3_7mkhf"]
[ext_resource type="Script" uid="uid://bpvkdlp8jw4sj" path="res://addons/utility_ai/actions/action.gd" id="4_8wx6m"]
[ext_resource type="Script" uid="uid://bhrmalgrewc21" path="res://NPC/Scripts/check_job.gd" id="5_txa0v"]
[ext_resource type="PackedScene" uid="uid://d0dhe2lv3x4u3" path="res://NPC/Debug/utility_debug.tscn" id="6_8wx6m"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_056qb"]

[sub_resource type="Curve" id="Curve_7mkhf"]
_data = [Vector2(0.005, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[node name="NPC" type="CharacterBody2D"]
script = ExtResource("1_056qb")
job = "LABORER"

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_asys0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_056qb")

[node name="UtilityAiAgent" type="Node" parent="."]
script = ExtResource("3_7mkhf")
metadata/_custom_type_script = "uid://bxew2mys8y8u8"

[node name="CutWood" type="Node" parent="UtilityAiAgent"]
script = ExtResource("4_8wx6m")
_action_id = "cut_wood"
metadata/_custom_type_script = "uid://bpvkdlp8jw4sj"

[node name="is_laborer" type="Node" parent="UtilityAiAgent/CutWood"]
script = ExtResource("5_txa0v")
curve = SubResource("Curve_7mkhf")
metadata/_custom_type_script = "uid://ds3cm31xh6g85"

[node name="utility_debug" parent="." node_paths=PackedStringArray("utility_agent") instance=ExtResource("6_8wx6m")]
utility_agent = NodePath("../UtilityAiAgent")

[connection signal="top_score_action_changed" from="UtilityAiAgent" to="." method="_on_utility_ai_agent_top_score_action_changed"]
